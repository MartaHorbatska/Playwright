
<!--  На основі AJAX технології напишіть клієнтську частину 
аплікації (HTML+JavaScript), в якій при натисненні на кнопку надсилається 
асинхронний GET-запит на публічний API
https://fakestoreapi.com/users, виводяться всі емейли користувачів 
у вигляді списку на HTML-сторінку.
Передбачте обробку помилок у випадку збою мережі. 
-->

<!DOCTYPE html>
 <html lang="en">
 <head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>Email list</title>
   </head>

<body>
  <h2>Email list</h2>
  <button onclick="loadEmails()">Get emails</button>
  <ul id="emailList"></ul>

  <script>
    async function loadEmails() {
      try {
        const response = await fetch('https://fakestoreapi.com/users');

        if (!response.ok) {
          throw new Error(`HTTP error! Status: ${response.status}`);
        }

        const users = await response.json();
        const list = document.getElementById("emailList");
        list.innerHTML = ""; // Очистити попередній список

        users.forEach(user => {
          const li = document.createElement("li");
          li.textContent = user.email;
          list.appendChild(li);
        });

      } catch (error) {
        console.error('Error fetching emails:', error);
      }
    }
  </script>
</body>
</html>


